\hypertarget{hal___t_m_p006_8c_source}{}\doxysubsection{hal\+\_\+\+T\+M\+P006.\+c}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 }
\DoxyCodeLine{00010 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{00011 \textcolor{comment}{//                      INCLUDES}}
\DoxyCodeLine{00012 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{00013 \textcolor{comment}{//\#include <stdint.h>}}
\DoxyCodeLine{00014 \textcolor{comment}{//\#include <stdbool.h>}}
\DoxyCodeLine{00015 \textcolor{preprocessor}{\#include <ti/drivers/I2C.h>}}
\DoxyCodeLine{00016 \textcolor{preprocessor}{\#include "\mbox{\hyperlink{hal___t_m_p006_8h}{hal\_TMP006.h}}"}}
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018 \textcolor{comment}{//****************************************************************************}}
\DoxyCodeLine{00019 \textcolor{comment}{//                      FUNCTIONS}}
\DoxyCodeLine{00020 \textcolor{comment}{//****************************************************************************}}
\DoxyCodeLine{00021 }
\DoxyCodeLine{00022 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{00023 \textcolor{comment}{//}}
\DoxyCodeLine{00034 \textcolor{comment}{}\textcolor{comment}{//}}
\DoxyCodeLine{00035 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{\Hypertarget{hal___t_m_p006_8c_source_l00036}\mbox{\hyperlink{hal___t_m_p006_8h_a6d4cd39790bef14925e2442ffa922444_a6d4cd39790bef14925e2442ffa922444}{00036}} uint8\_t \mbox{\hyperlink{hal___t_m_p006_8c_a6d4cd39790bef14925e2442ffa922444_a6d4cd39790bef14925e2442ffa922444}{SetMOD\_TMP006}}(I2C\_Handle \mbox{\hyperlink{hal___w_d_8c_ac3886ff8eedde1ea48fb46d450100ac6_ac3886ff8eedde1ea48fb46d450100ac6}{i2c}}, uint\_least8\_t Slave, uint8\_t cr) \{}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038     uint8\_t writeBuffer[3];}
\DoxyCodeLine{00039     I2C\_Transaction i2cTransaction;}
\DoxyCodeLine{00040     \textcolor{keywordtype}{bool} status;}
\DoxyCodeLine{00041 }
\DoxyCodeLine{00042     writeBuffer[0] = 0x02;}
\DoxyCodeLine{00043     \textcolor{keywordflow}{if} (cr==240)}
\DoxyCodeLine{00044         writeBuffer[1] = 0x70;}
\DoxyCodeLine{00045     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cr==120)}
\DoxyCodeLine{00046         writeBuffer[1] = 0x72;}
\DoxyCodeLine{00047     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cr==60)}
\DoxyCodeLine{00048         writeBuffer[1] = 0x74;}
\DoxyCodeLine{00049     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cr==30)}
\DoxyCodeLine{00050         writeBuffer[1] = 0x76;}
\DoxyCodeLine{00051     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cr==15)}
\DoxyCodeLine{00052         writeBuffer[1] = 0x78;}
\DoxyCodeLine{00053     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00054         \textcolor{keywordflow}{return} \mbox{\hyperlink{hal___t_m_p006_8h_a5f2433889c74c4221a6df00ae320240d_a5f2433889c74c4221a6df00ae320240d}{ERROR\_WRONG\_CR}};}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056     writeBuffer[2] = 0x00;}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058     i2cTransaction.slaveAddress = Slave;}
\DoxyCodeLine{00059     i2cTransaction.writeBuf = writeBuffer;}
\DoxyCodeLine{00060     i2cTransaction.writeCount = 3;}
\DoxyCodeLine{00061     i2cTransaction.readBuf = NULL;}
\DoxyCodeLine{00062     i2cTransaction.readCount = 0;}
\DoxyCodeLine{00063 }
\DoxyCodeLine{00064     status = I2C\_transfer(\mbox{\hyperlink{hal___w_d_8c_ac3886ff8eedde1ea48fb46d450100ac6_ac3886ff8eedde1ea48fb46d450100ac6}{i2c}}, \&i2cTransaction);}
\DoxyCodeLine{00065 }
\DoxyCodeLine{00066     \textcolor{keywordflow}{return} \mbox{\hyperlink{hal___t_m_p006_8h_a512f258f8b777aee0507cf209c931925_a512f258f8b777aee0507cf209c931925}{SUCCESS\_CONF\_TMP006}};}
\DoxyCodeLine{00067 \}}
\DoxyCodeLine{00068 }
\DoxyCodeLine{00069 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{00070 \textcolor{comment}{//}}
\DoxyCodeLine{00080 \textcolor{comment}{}\textcolor{comment}{//}}
\DoxyCodeLine{00081 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{\Hypertarget{hal___t_m_p006_8c_source_l00082}\mbox{\hyperlink{hal___t_m_p006_8h_a15d953370d7ae98db0f9630e83d51f98_a15d953370d7ae98db0f9630e83d51f98}{00082}} int16\_t \mbox{\hyperlink{hal___t_m_p006_8c_a15d953370d7ae98db0f9630e83d51f98_a15d953370d7ae98db0f9630e83d51f98}{GetTA\_TMP006}}(I2C\_Handle \mbox{\hyperlink{hal___w_d_8c_ac3886ff8eedde1ea48fb46d450100ac6_ac3886ff8eedde1ea48fb46d450100ac6}{i2c}}, uint\_least8\_t Slave) \{}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084     \textcolor{keywordtype}{bool} status;}
\DoxyCodeLine{00085     uint8\_t writeBuffer;}
\DoxyCodeLine{00086     uint8\_t readBuffer[2];}
\DoxyCodeLine{00087     I2C\_Transaction i2cTransaction;}
\DoxyCodeLine{00088     int16\_t Temp;}
\DoxyCodeLine{00089 }
\DoxyCodeLine{00090     writeBuffer = 0x01;}
\DoxyCodeLine{00091 }
\DoxyCodeLine{00092     i2cTransaction.slaveAddress = Slave;}
\DoxyCodeLine{00093     i2cTransaction.writeBuf = \&writeBuffer;}
\DoxyCodeLine{00094     i2cTransaction.writeCount = 1;}
\DoxyCodeLine{00095     i2cTransaction.readBuf = readBuffer;}
\DoxyCodeLine{00096     i2cTransaction.readCount = 2;}
\DoxyCodeLine{00097     status = I2C\_transfer(\mbox{\hyperlink{hal___w_d_8c_ac3886ff8eedde1ea48fb46d450100ac6_ac3886ff8eedde1ea48fb46d450100ac6}{i2c}}, \&i2cTransaction);}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099     Temp = (int16\_t)(((readBuffer[0]<<8) + readBuffer[1])) / 4;}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101     \textcolor{keywordflow}{return} Temp;}
\DoxyCodeLine{00102 \}}
\DoxyCodeLine{00103 }
\DoxyCodeLine{00104 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{00105 \textcolor{comment}{//}}
\DoxyCodeLine{00115 \textcolor{comment}{}\textcolor{comment}{//}}
\DoxyCodeLine{00116 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{\Hypertarget{hal___t_m_p006_8c_source_l00117}\mbox{\hyperlink{hal___t_m_p006_8h_a81965969b727da5491a94422f9866ee5_a81965969b727da5491a94422f9866ee5}{00117}} uint16\_t \mbox{\hyperlink{hal___t_m_p006_8c_a81965969b727da5491a94422f9866ee5_a81965969b727da5491a94422f9866ee5}{GetID\_TMP006}}(I2C\_Handle \mbox{\hyperlink{hal___w_d_8c_ac3886ff8eedde1ea48fb46d450100ac6_ac3886ff8eedde1ea48fb46d450100ac6}{i2c}}, uint\_least8\_t Slave) \{}
\DoxyCodeLine{00118 }
\DoxyCodeLine{00119     \textcolor{keywordtype}{bool} status;}
\DoxyCodeLine{00120     uint8\_t writeBuffer;}
\DoxyCodeLine{00121     uint8\_t readBuffer[2];}
\DoxyCodeLine{00122     I2C\_Transaction i2cTransaction;}
\DoxyCodeLine{00123     uint16\_t DevId;}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125     writeBuffer = 0xFE;}
\DoxyCodeLine{00126 }
\DoxyCodeLine{00127     i2cTransaction.slaveAddress = Slave;}
\DoxyCodeLine{00128     i2cTransaction.writeBuf = \&writeBuffer;}
\DoxyCodeLine{00129     i2cTransaction.writeCount = 1;}
\DoxyCodeLine{00130     i2cTransaction.readBuf = readBuffer;}
\DoxyCodeLine{00131     i2cTransaction.readCount = 2;}
\DoxyCodeLine{00132     status = I2C\_transfer(\mbox{\hyperlink{hal___w_d_8c_ac3886ff8eedde1ea48fb46d450100ac6_ac3886ff8eedde1ea48fb46d450100ac6}{i2c}}, \&i2cTransaction);}
\DoxyCodeLine{00133 }
\DoxyCodeLine{00134     DevId = (readBuffer[0]<<8) + readBuffer[1];}
\DoxyCodeLine{00135 }
\DoxyCodeLine{00136     \textcolor{keywordflow}{return} DevId;}
\DoxyCodeLine{00137 \}}

\end{DoxyCode}
